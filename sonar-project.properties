# Mandatory configuration
sonar.projectKey=Charon
sonar.projectName=Charon
sonar.sourceEncoding=UTF-8
sonar.sources=./src
sonar.tests=./test
sonar.test.inclusions=**/test/**/*,**/*.spec.ts

# Coverage
sonar.javascript.lcov.reportPaths=coverage/lcov.info

# Exclude non-critical files from coverage analysis
sonar.coverage.exclusions=**/*.dto.ts,**/*.interface.ts,**/*.enum.ts,**/*.constants.ts,**/index.ts,**/*.model.ts,**/app.module.ts,**/main.ts,**/*.config.ts

# Exclude files from analysis entirely
sonar.exclusions=**/node_modules/**,**/coverage/**,**/dist/**,**/*.spec.ts,**/*.test.ts

# Coverage thresholds (more lenient for existing codebase)
sonar.coverage.minimum=30
sonar.coverage.new.minimum=50

# Exclude duplicate code in DTO mapping files
sonar.cpd.exclusions=**/mol-payment-provider.ts,**/dife.provider.ts

# Result Quality Gate
sonar.qualitygate.wait=true
sonar.newCode.referenceBranch=main